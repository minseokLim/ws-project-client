language: java
jdk:
- openjdk8
cache:
  directories:
  - "$HOME/.m2"
sudo: required
services:
- docker
notifications:
  email:
  - mslim8803@naver.com
  on_success: always
  on_failure: always
branches:
  only:
  - master
env:
  global:
  - secure: a6p6b5L7nHNm+WLCUXl5910uVGzlhuiCF+NAhs4Evd2odmYbmuNrCSHjiwdTUVWV6OZXgDICpB3uEzJSMJwIUG/J9PWiVZY9dBluWKEUY6xXTFeqBeLncvTa/mOTew1lNo961nFOitNi5ABYYkYra+wvsL6aOQ2wvyh0OMFsVW3fjGrVt7iBZtqT+fbsYNrNs1deTCauKwxVF429jSuWCb+MzTTLBRgNrk4zvc/y8hmCVtt0yH8N7Hbvoojn4p/QYrcq8m7XAswfwt1mNbhEcGnVVwZgFKA0qEmEN/bYXJjqSPk5T9ieWnPUVUW4gp5R5panfyOZuOdnCZxBNcoB58qcRYp6nCVjJGvFx/BV0D6dLBTJG7t8ezcYI6ubdXt5SlfqAraI/9dEkLiUgbie4gsZS0da3yPxrighJmVmGxdYvYACf76zKb1ydtyMf7WOZqMaZxtsiqo/dTC2ZoRICZb7zSUAwHyKorRxv1A+LGaerKXweKUSxshOQMvYz2U3RRQrHBGf0lBgzR/eviidtVDkKXchqJO0OPJ5S8c5qpSeoc21tmQcjEnIK97ZNCynUOG28HS1y/oLsY7vhbqgh6H5DMEkNfJSoVKp/INgVizLr14G0YfMNKMeiMFM3sr9DtPoFbze33VX2R1ndf8QadzRT3+SA5igzc191JlXuq4=
  - secure: FwQWJe0aCuaUNckXCjIYkv0Q/5s+HKgNbgyoFVdUc8csypIDSYdpuOwytOHp3hX8MHWMOU3n5oL+1l5R/qD2XKv7uMZD0p/8PF89kMNsqgA2/uUJvOOM/wtZJdnkah7RLXg6D92kiEPovlgqHTv1CK8pkDoc0tNtUCTSAkGElU7+Us9vJKABVsFQCd9hAhF1CULKuK0YJBiA7ZIQB7MLFTocLxFqKexz6oM1CuiJUop9t4p2N2BtWpIsxTCKWwpRPwOZy9DFz1ALI2O2f7j9Aoy/uFkL8Ow58gUxhg9sdZk7VYfLyqZ3yQPh8ebFKAkaVscXIGUcDSQlPMvv9gz1m16EvISdBvC56vsZKCeUR1Xi/f0euZp1PHIDX5TOTVIYZ9IzUKr3dAgpk2wapH9rOvhINnjlNzxLnTdVM3SwRFpiQ5DKhttxn5wr/Pm6zDHNzlPabR0CpeAw0pnL9RN/EmWSuBYLQQMa2xQ6F1DAnu9+h1lbJ6a54Ei0cQKqOc2KkjeGYfSVplNXtigZl31Xybd1CiPiUfkjWcM6HpiCpcl6mrBc5ZZxisiUCw/hOwJ4m0p4Jd1fX22h74NSrVuWz4Lbnop6DWH/S676fsqifpza8j60o66UOmhSfUpBrSleH8bLO7bNh6wlF7zXLI/0Ra0oy9uJnk4DX6OSNPe9+/g=
  - secure: Z0PHZTTFMwhCIUDF5vhf0kutjvkQxeefjAh5rCAtNNDGvnrTx4CExVVbnmLsd9AzGgNit3SCD/WV3xberBWmkwsi/rNybWUTAssq86xEG/TWHYaEPCa3yFyzF4OfyVLPwM/ryxIyzydN4eY3FJQc+/0DQI8xF+x6yCwAb/pA6vK76tNv5Bd6iicQUD4ASDKjscSBylOJjCjreFh/6++Q5HqSG1ABNlRWFocA/qgAefMMRsQ1qS+SW1FJhpFywCJCTFUvXQ86Ux40qVtYHzeIY+9UrpJErqy6h4E+WZ3LWNrL8yJcJD+7p8isc/eEdqT8cXU8BpI61W1+HJL2aL0M2+CN3n1sILclTaPTqjR8GmzL7lFU9P+sreP35w45I2NwO6nQC9ksGssSao9wzyyJwaRXrowbEiYw8g7qCLRT7DWT0Q293vaAH8FVNajHlSQlngjywvYReJqoRBmIJCwNyIZKQdmyb2rusixzylwVgKmEXq9rfmtyjf5y/YR/nZcaeSxAMlGDx276sEZD4sosIeo3/p4HN+RAKYhqWvO2N3haoDCDOff7tQJWm457obyZYt8DTAVTIvSWNpoayzYLk6XZg6PB/Rn9eu2sCJw7pjc29tQ/gSH3gdmM9kNTcPxO3hRiCbywdav4VKn6XmYlAcjk738hgFBBL3I/9+IS0Ro=
  - secure: Ql62omye1voN1qMt3o6Sjeoxq1DD7GYqPbvEjCZVG4XRob8qUjUc1f4wxUHUrn/9+jIGZ2xEUNvg+0uouNnJpbHtclocUnQo+2C6o5zgLbBilp0ApZ9ZNvWlv4kAmJmN+ZYSdoAsE5x+ArcNBH/XaEFT3T7/atWL3ckrj0BKY49xOsmQOPAiViDuduHAh3bZMkQcBT3uuTMl0offbt+CE+mXlsG7ruX/y1LJUnOEV3n4NHXRcIzu7iX3uL6cBiH9fP6YqUcU6AoUW4OlrkERbcOZgoeRE/vUs+KoQOr7Pp8mYDk+7NS3dNgldQUFrCuy5/CGAIlsDakcA6SG6L/7VtKxLTXJ4uGN7+IuLNbrB4N9rv9LqrvKhXLVBA8Wq7vRFcB2eoiY9OV8gtD9MFLkeVCpekMTwFJGVX+yQDTk+nyQOWP3txujWb8nxTkxc48HdKdP8B357Pt2wztjsyxxibLMRcJP8OffjKILfXwFicxzk7DdVEHP5j+YKXLlIa+HSLWE1wZjUos0dR7tte7fk37OrV49qwKTlGrBIwk3253T4Urk/LeZoBytB2ivHwOT9ELqPF+MifKIDge4BRaMf/+TIRd8PTtjv13WClgKi8evu8lKO/WyHwJV4ovIQpUi6P+pogyczPOeNoUMSpTmUVqaJucEAm1Fm9XxGx4HCak=
  - secure: FjoZyd06gStszOgWRrEkXvr/MQhixLNlW4jdyMqeD7k3LvezPpKL3osV8DSRyPXNQotzPjnESHDnqOOW5u4CXQ1slFrv3AKcIAYhb/XYu8cLQiMGEMg1R7/fidAiLGUjJWk5qtliLrUkbL6NxgthpUQdHK62fNCsqyDypC49C6KJKGlcetGTKUsfxmz3mZz/j0aua75/gC6JwO3acD16mpZ1s542ycAW7T5XPSIzCwJFb2loSIv6i2+4gZC2Jw0gf3o9AfwtX2vcPg/kcYJbwU+odA4EBHEu+qcVj/8Gu3NmSIwmBc/N2Rpxb/vkp+rFaOGA2q6QkKN4PiOik1sgr2fx/w8+rTeZlC8EsdfLE0nam9r3t8n5NM9hUgRm1ADmx1jZtKVZmCGkuqO5xTo8aKNCPjUTwPvj/3SVwKiNsyrCJlux7CFUfWGa0WsQDrTO9XDZ4yAoYHWtFSVcMjw4Rp41/Z26QrQi+YmMMj6i+HUiGQIQ5Ppge1OhligiJviej2m0DS/peHtN/a+XhCHO1W9R3ukiBy17gJj0EWswPC+zXuVsStUjJZuVySrBB3KYxR7X1dxI1H6t4IlqyWl97HMNQNoZ6ABfH8x3np9iwE6xw2421dvNSjKO9jjwYrkM1s0t3KatHFurBMcfdNDZCDvaKyfJJELneJ/59WT11fU=
  - secure: aWFzoSvXDL09ATf3APyOuVcrR76R472RMQQN/PJwuoNlcjpfh3MNeCfnaDI5eYAPHWtanrUAy8w118XK1qM2MfYmLML1WVvLpcnNlFfEgtHJHY3k/8tM0DK/Zd6iUdckzG0DxXUCBwt/Bz1rq54flr+4nD+rD3VzVUVV9QAlHwGapnrLCDSJoORGThAqn4OemIzAAt7Kya99BabyAELVBBavnk+NJgP1LTXXGzWEO96y85gN5F3lr0y63jV6LEh2DLolMmnlY8ToKazpTUGkq38swJ/mtsvehmnFMxn2NQWkUPn+jEjdz7m2uLCmuvgF55zJvbXhldb5C1kRxVcZOkLVKT/s7mCe2l2kUfXdtRNr5eQDLJGZ5gIYaqKNrG/SVftX+FKjTk96oU+bkALITy/nx+FPq/bU/z1hxWFMCYP3ahrVVZOua4MftF5wrqbMyxq2uNqZaXHQpUQUKjOYYw6moO4S2J83btbaXxlbo8mI/mxLM9w68G4xRfLm0RhOfoytoXH1Wi1BKUT+wmfKV3QR5dMIMvn/QlQMFuEB1xo2S0mv3wxOHHPgLjaaAV1Yct6FLlqXO1W8zGUt1g0nFJpLx5dtsFZv7MrBbsZCmoA618RAqBGZrHeoE7aRaMcv9M9okBmrS0Y8RatPLOjMBD/PdHla+bCJuoKCfTaRbJI=
before_install:
- gem install travis -v 1.8.9 --no-document
- sudo curl -k -o /usr/local/bin/ecs-cli https://s3.amazonaws.com/amazon-ecs-cli/ecs-cli-linux-amd64-latest
- sudo chmod +x /usr/local/bin/ecs-cli
- export BUILD_NAME=ws-project-client-$TRAVIS_BRANCH-$(date -u "+%Y%m%d%H%M%S")-$TRAVIS_BUILD_NUMBER
- export CONTAINER_IP=52.78.84.133
- export PLATFORM_TEST_NAME="ws-project-client-platform-tests"
script:
- sh travis_scripts/tag_build.sh
- sh travis_scripts/build_services.sh
- sh travis_scripts/deploy_to_docker_hub.sh
- sh travis_scripts/deploy_to_amazon_ecs.sh
